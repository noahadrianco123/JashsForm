<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peta 4</title>
  <link rel="stylesheet" href="FORM.css">
</head>
<body>

<div class="form-container">
<div class="image-logo">
  <img class="logo" src="jashslogo.jpg">
  <h1>JOSE ABAD SANTOS HIGH SCHOOL</h1>
  <h3>BASIC EDUCATION ENROLLMENT FORM</h3>
  <p>THIS FORM IS NOT FOR SALE</p>
</div>


    <form id="enrollmentForm">
      
        <h2>Student Information</h2>

        <label>Student Name:</label>
        <div class="row">
          <input class="text" type="text" name="StudentLastName" placeholder="Last Name" required>
          <input class="text" type="text" name="StudentFirstName" placeholder="First Name" required>
          <input class="text" type="text" name="StudentMiddleName" placeholder="Middle Name" required>
        </div>
             <div class="col">
    <label>Learner Reference Number (LRN)</label>
    <input class="text" type="text" name="LRN" maxlength="12" pattern="[0-9]{12}" placeholder="12-digit LRN" required>
  </div>
   <div class="row"> 
            <div class="col">
                <label>Birth Date:</label>
                <input class="date" type="text" id="birthdate" name="StudentBirthdate" placeholder="MM/DD/YYYY" maxlength="10" required>
            </div>
             <div class="col">
                <label>Date of SHS Admission:</label>
                <input class="date" type="text" id="SHSadmission" name="DateSHSadmission" placeholder="MM/DD/YYYY" maxlength="10" required>
            </div>
            <div class="col"> 
                <label>Gender: </label> 
                <div class="gender"> 
                    <label><input type="radio" name="Studentgender" value="Male"> Male</label>
                    <label><input type="radio" name="Studentgender" value="Female"> Female</label>
                </div> 
            </div> 
        </div>
<div class="col">
    <label>General Average</label>
    <input class="text" type="text" name="GeneralAverage" pattern="^(100|[7-9][0-9])(\.\d{1,2})?$" placeholder="70 - 100" required>
  </div>
<label for="Track">TRACK (ACADEMIC / TECHPRO)</label>
            <select id="Track" name="PreferredTrack">
                <option value="" disabled selected>Select Track</option>
                <option value="ACADEMIC">Academic</option>
                <option value="TECHPRO">Techpro</option>
            </select>
            <div id="AcademicOption" style="display: none;">
    <label for="AcademicSelect">Please specify:</label>
 <select id="AcademicSelect" name="AcademicTrack">
                                <option value="" disabled selected>Select Academic Clusters</option>
                <option value="ASSH">Arts, Social Sciences, and Humanities (ASSH)</option>
                <option value="STEM">Science, Technology, Engineering, and Mathematics (STEM)</option>
                <option value="BE">Business and Entrepreneurship (BE)</option>
            </select>
</div>
         <div id="TechproOption" style="display: none;">
    <label for="TechproSelect">Please specify:</label>
 <select id="TechproSelect" name="TechproTrack">
                <option value="" disabled selected>Select TechPro Clusters</option>
              <optgroup label=" Support and Computer Programming Technologies (ICT)">
                <option>Computer Programming (Java) (NC IIl)</option>
                <option>Programming (.Net Technology) (NC III)</option>
                <option>Computer Systems Servicing (NC II)</option>
              </optgroup>
              <optgroup label=" Creative Arts and Design Technologies">
                <option>Visual Graphic Design (NC IIl)</option>
              </optgroup>
              <optgroup label="Hospitality and Tourism">
                <option>Bakery Operation (NC II)</option>
                <option>Events Management Services (NC IIl)</option>
                <option>Food and Beverage Operation (NC Il)</option>
                <option>Kitchen Operations (NC II)</option>
              </optgroup>
              <optgroup label="Industrial Technologies">
                <option>Electrical Installation Maintenance (NC II)</option>
              </optgroup>
              <optgroup label=" Construction and Building Technologies">
                <option>Manual Metal Arc Welding</option>
              </optgroup>
            </select>
</div>
<label>Top 3 Career Pathway</label>
        <input class="text" type="text" name="Top3Strands" placeholder="Example: Engineering, Nursing. " required>
<div class="section-box">
             <label>After grade 12, what is your most preferred curriculum exit?</label>
             <div class="radio-group-vertical">
                <label><input type="radio" name="CurriculumExit" value="Higher Education"> Higher Education (college/university)</label>
                <label><input type="radio" name="CurriculumExit" value="Entrepreneurship"> Entrepreneurship (starting a business)</label>
                <label><input type="radio" name="CurriculumExit" value="Employment"> Employment (job, workforce)</label>
                <label><input type="radio" name="CurriculumExit" value="Middle-level skills"> Middle-level skills development (tech-voc)</label>
             </div>
             
             <label>Remarks:</label>
             <input class="text" type="text" name="Remarks" placeholder="Any remarks...">
</div>
<label>Date of Graduation/Competion:</label>
                <input class="date" type="text" id="DateOfGraduation" name="StudentDateOfGraduation/Competion" placeholder="MM/DD/YYYY" maxlength="10" required>
                 <div class="col">
            <label>Previous School:</label>
            <input class="text" type="text" name="StudentLastSchool" placeholder="Full Name" required>
          </div>
           <label>School Address:</label>
        <input class="text" type="text" name="SchoolAdress" placeholder="Full Address" required>

          
        <label>Student Address:</label>
        <input class="text" type="text" name="StudentAdress" placeholder="Full Address" required>
 <label>Previous Section (Grade 10)</label>
    <input class="text" type="text" name="PreviousSection" required>
        <label>Barangay Number:</label>
        <input class="number" type="number" name="StudentBarangayNumber" placeholder="" required>
        <div class="row">
          <div class="col">
            <label>Contact Number:</label>
            <input class="tel" type="text" name="StudentNumber" maxlength="11" pattern="[0-9]{11}" placeholder="09XXXXXXXXX" required>
          </div>
          <div class="col">
  </div>
        <h2>Parent/Guardian Information</h2>

        <label>Parent/Guardian Name:</label>
        <input class="text" type="text" name="GuardianFullName" placeholder="Full Name" required>

        <div class="row">
          <div class="col">
            <label>Relationship To Student:</label>
            <input class="text" type="text" name="GuardianRelation" placeholder="Example: Father/Mother" required>
          </div>
          <div class="col">
            <label>Contact Number:</label>
            <input class="tel" type="text" name="GuardianNumber" maxlength="11" pattern="[0-9]{11}" placeholder="09XXXXXXXXX" required>
          </div>
          <div class="col">
            <label>Email Address:</label>
            <input class="email" type="email" name="GuardianEmail" placeholder="name@gmail.com" required >
          </div>
        </div>
      <h2> Belonging to any Indigenous Peoples (IP) Community</h2>
      <div class="row">
          <div class="col">
            <label><input class="radio" type="radio" name="IPStatus"  value="No" > No </label>
            <label class="margin"><input class="radio" type="radio" name="IPStatus" value="Yes" >  Yes </label>
             <label class="specify">  If Yes, please specify:<input class="input" name="IPSpecify" type="text"> </label> 
        </div>
      </div>

     <div class="row">
          <div class="col">
            <h2> Is your family a beneficiary of 4Ps? </h2>
            <label> <input type="radio" name="FourPsStatus" value="No"> No</label>
            <label class="margin"><input type="radio" name="FourPsStatus" value="Yes">  Yes </label>
            
             <label id="specify">  <h2>If Yes, write the 4Ps Household ID Number: </h2>  <input class="input" name="FourPsID" type="text">  </label>
        </div>
    </div>

      <h2> Is the child a learner with Disability</h2>
      
     <div class="row">
          <div class="col">
            <label><input class="radio" type="radio" name="DisabilityStatus" value="No"> No </label>
            <label><input class="radio" type="radio" name="DisabilityStatus" value="Yes">  Yes </label>
             <label class="specify">  If Yes, please specify:<input class="input" name="DisabilitySpecify" type="text"> </label> 
        </div>
    </div>

    <br>
<label style="margin-top:20px;">
  <input type="checkbox" id="privacyCheck" required>
  I confirm that the information provided is accurate and may be used for enrollment purposes.
</label>

      <button id="submitBtn" type="submit">Done</button>

<div id="previewModal" class="modal">
  <div class="modal-content">
    <button id="cancelSubmit" type="button">Cancel Submit</button>
    <h2>Preview Information</h2>
    <div id="previewContent"></div>
    <button id="confirmSubmit">Confirm & Submit</button>
  </div>
</div>

      
</form> 


</div>

<script>

const scriptURL = 'https://script.google.com/macros/s/AKfycbya1EvkUt1ugwboZKRZqwk9wszs6tj4cUgXq8zGnY_uuWtSdr0pOIvxRTL8tPoT3sAE/exec';
const form = document.getElementById('enrollmentForm');
const modal = document.getElementById('previewModal');
const preview = document.getElementById('previewContent');

const selectTrack = document.getElementById('Track');
const AcademicTrack = document.getElementById('AcademicOption');
const TechproTrack = document.getElementById('TechproOption');

selectTrack.addEventListener('change', function() {
    AcademicTrack.style.display = 'none';
    TechproTrack.style.display = 'none';

    if (this.value === 'ACADEMIC') {
        AcademicTrack.style.display = 'block';
    } else if (this.value === 'TECHPRO') {
        TechproTrack.style.display = 'block';
    }
});
document.getElementById("birthdate").addEventListener("input", function(e){
  let value = e.target.value.replace(/\D/g, '');
  if(value.length > 2) value = value.slice(0,2) + "/" + value.slice(2);
  if(value.length > 5) value = value.slice(0,5) + "/" + value.slice(5,9);
  e.target.value = value;
});
document.getElementById("DateOfGraduation").addEventListener("input", function(e){
  let value = e.target.value.replace(/\D/g, '');
  if(value.length > 2) value = value.slice(0,2) + "/" + value.slice(2);
  if(value.length > 5) value = value.slice(0,5) + "/" + value.slice(5,9);
  e.target.value = value;
});
document.getElementById("SHSadmission").addEventListener("input", function(e){
  let value = e.target.value.replace(/\D/g, '');
  if(value.length > 2) value = value.slice(0,2) + "/" + value.slice(2);
  if(value.length > 5) value = value.slice(0,5) + "/" + value.slice(5,9);
  e.target.value = value;
});
document.querySelectorAll('input[name="StudentNumber"], input[name="GuardianNumber"]').forEach(input => {
  input.addEventListener("input", function(){
    this.value = this.value.replace(/\D/g, '').slice(0,11);
  });
});

document.querySelector('input[name="LRN"]').addEventListener("input", function(){
  this.value = this.value.replace(/\D/g, '').slice(0,12);
});

form.addEventListener('submit', function(e){
  e.preventDefault();

  if(!document.getElementById("privacyCheck").checked){
    alert("You must agree to the privacy policy.");
    return;
  }

  const formData = new FormData(form);
  let html = "";

  for(let pair of formData.entries()){
    html += "<p><strong>" + pair[0] + ":</strong> " + pair[1] + "</p>";
  }

  preview.innerHTML = html;
  modal.style.display = "flex";
});
document.getElementById('cancelSubmit').addEventListener('click', function() {
  modal.style.display = "none";
});
document.getElementById("confirmSubmit").onclick = function(){

  const btn = document.getElementById('confirmSubmit');
  btn.innerText = "Submitting...";
  btn.disabled = true;

  fetch(scriptURL, { method: 'POST', body: new FormData(form)})
  .then(response => {
    alert("Success! Your enrollment form has been submitted.");
    window.location.href = "index.html";
  })
  .catch(error => {
    alert('Error!', error.message);
    btn.innerText = "Done";
    btn.disabled = false;
  });

};

</script>
